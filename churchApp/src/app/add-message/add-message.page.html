<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Nueva predicación</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title size="medium">Nueva predicación</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <div style=" display: flex; justify-content: center; margin-top: 30px;">
      <div style="width: 70%;">
        <form [formGroup]="form">
          <ion-list>
            <ion-item>
              <ion-input label="Titulo" labelPlacement="floating" placeholder="Escribe el titulo" formControlName="title"></ion-input>
            </ion-item>
          </ion-list>
          <ion-item>
            <ion-select label="Predicador" label-placement="floating" formControlName="id_speaker">
              @for (speaker of this.restService.speakerList
              ; track speaker.id) {
                <ion-select-option [value]="speaker.id">{{ speaker.name }}</ion-select-option>
              }
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-select label="Libro" label-placement="floating" formControlName="id_book">
              @for (book of this.restService.bookList
              ; track book.id) {
                <ion-select-option [value]="book.id">{{ book.name }}</ion-select-option>
              }
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-item id="date">
              <!-- <ion-label>Fecha</ion-label> -->
              <div style="display: flex; align-items: center;">
                <ion-input  value="{{ datetime | date: 'dd.MM.yyyy' }}"></ion-input>
                <ion-icon name="calendar-outline"></ion-icon>
              </div>
              <!-- <ion-input
                value="{{ date | date: 'dd.MM.yyyy' }}"
                id="date"
              ><ion-icon name="date-outline" id="date"></ion-icon></ion-input> -->
              <ion-popover trigger="date">
                <ng-template>
                  <ion-datetime
                    presentation="date"
                    formControlName="date"
                    size="cover"
                    
                    [(ngModel)]="datetime"
                  ></ion-datetime>
                </ng-template>
              </ion-popover>
            </ion-item>
          </ion-item>
          <ion-list>
            <ion-item>
              <ion-input label="Url" labelPlacement="floating" placeholder="Escribe la url" formControlName="url"></ion-input>
              <!-- @if (this.form.get('url')?.dirty && this.form.get('url')?.hasError) {
                <ng-container>
                  <div style="color: red;">Campo requerido</div>
                </ng-container>
              } -->
            </ion-item>
          </ion-list>
        </form>
        <ion-button (click)="addMessage()" expand="block">Añadir</ion-button>
      </div>

    </div>
  </div>
</ion-content>
