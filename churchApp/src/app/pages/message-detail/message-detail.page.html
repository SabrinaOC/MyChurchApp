<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="navCtrl.navigateBack('')">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Detalle</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <h3>{{ msgSelected.book.name }}</h3>

      <ion-card-title>{{ msgSelected.title }}
        
      </ion-card-title> 

      @if (msgSelected.speaker.id === 5) {
        <ion-card-subtitle>{{ msgSelected.note }}</ion-card-subtitle>
      } @else {
        <ion-card-subtitle>{{ msgSelected.speaker.name }}</ion-card-subtitle>
      }
    </ion-card-header>

    <ion-card-content>
      <h2>Reflexion:</h2>
      <div [innerHTML]="msgSelected.questions | formatQuestionText"></div>
      
      <div id="iconCenteredLayout" class="ion-margin-top">
        <ion-button class="ion-margin-end" fill="clear">
          <ion-icon name="play-circle-outline" style="color: #339f51; padding: 3px;"></ion-icon>
        </ion-button>

        <ion-button size="large" shape="round">
          <ion-icon slot="icon-only" name="play"></ion-icon>
        </ion-button>

        <ion-button class="ion-margin-start" fill="clear" (click)="shareMessage($event)">
          <ion-icon name="share-social-outline" style="color: #4d8dff;"></ion-icon>
        </ion-button>
      </div>
      
      <h2>Vers√≠culos:</h2>
      <div style="display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 15px;">
        @for (verse of verses; track $index) {
            <ion-badge id="versesPopover{{$index}}" class="badge-verse" (click)="openShowVerses(verse)">
              <span>{{verse}}</span>
            </ion-badge>
            <!-- <ion-modal class="versesPopover" side="top" alignment="center" trigger="versesPopover{{$index}}">
              <ng-template>
                <app-show-verses [verse]="verse"></app-show-verses>
              </ng-template>
            </ion-modal> -->
        }
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>
