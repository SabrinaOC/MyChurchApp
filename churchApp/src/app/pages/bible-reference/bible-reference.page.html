<ion-header [translucent]="true" mode="ios">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-img src="../assets/icon/favicon.png" style="width: 35px; margin-left: 10px;"></ion-img>
      </ion-menu-toggle>
    </ion-buttons>
    <ion-title>Concordancias bíblicas</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true" (ionScroll)="onScroll($event)" scrollEvents="true">
    <ion-searchbar
    mode="ios"
    animated="true"
    placeholder="Buscar un término"
    show-clear-button="always"
    clear-icon="close-outline"
    [debounce]="1000"
    (ionInput)="changedSearchBar($event)"
    ></ion-searchbar>

    <div class="divFiltros">
      <div id="checkBox-layout">
        <ion-checkbox mode="ios" checked (ionChange)="toggleOldTestament($event)">Antiguo Testamento</ion-checkbox>
        <ion-checkbox mode="ios" checked (ionChange)="toggleNewTestament($event)">Nuevo Testamento</ion-checkbox>
      </div>
    </div>

    <div class="btnResetFilters">
      <ion-button fill="clear">Resultados: {{verseCount}}</ion-button>

      <ion-button fill="clear" class="action" style="color: white;" ><!-- (click)="showFilterModal($event)" -->
        <span>Filtros &nbsp;</span>
        <ion-icon name="options-outline" size="large"></ion-icon>
      </ion-button>
    </div>

    <div>
      <ion-accordion-group #accordionGroup [multiple]="true" [value]="0">

        @for (verseGroup of groupedVerses; track $index) {
          <ion-accordion [value]="$index">
            <ion-item slot="header" class="accordionHeader">
              <ion-label>{{verseGroup[0]}}</ion-label>
            </ion-item>

            <div slot="content">
              @for (res of verseGroup[1]; track $index) {
                <ion-card (click)="openShowVerses(res.verse)">
                  <ion-card-header>
                    <div class="cardHeader">
                      <ion-badge id="versesPopover{{$index}}" class="badge-verse">
                        <span>{{res.verse}}</span>
                      </ion-badge>
                    </div>
                  </ion-card-header>
                  <ion-card-content>
                    <p class="bibleText">{{res.text}}</p>
                  </ion-card-content>
                </ion-card>
              }
            </div>
          </ion-accordion>
        }
      </ion-accordion-group>
    </div>

    <div class="topScroller" [class.visible]="showScroller" (click)="scrollToTop()">
      <ion-icon name="chevron-up-circle-outline"></ion-icon>
    </div>
</ion-content>
